# ğŸ”§ æŠ€æœ¯è¿›åº¦æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°
å±±ä¸œå‡çº§æ‰‘å…‹æ¸¸æˆ - åŸºäºReact + Node.jsçš„å®æ—¶å¤šäººåœ¨çº¿æ¸¸æˆ

## å½“å‰æ¶æ„

### åç«¯æ¶æ„ (Node.js)
```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ server.js              # ä¸»æœåŠ¡å™¨æ–‡ä»¶ï¼ŒSocket.ioé…ç½®
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â””â”€â”€ GameManager.js     # æ¸¸æˆç®¡ç†å™¨ï¼Œæˆ¿é—´å’Œç©å®¶ç®¡ç†
â”‚   â””â”€â”€ models/
â”‚       â”œâ”€â”€ Player.js          # ç©å®¶æ¨¡å‹
â”‚       â”œâ”€â”€ Room.js            # æˆ¿é—´æ¨¡å‹  
â”‚       â”œâ”€â”€ Card.js            # æ‰‘å…‹ç‰Œæ¨¡å‹
â”‚       â””â”€â”€ ShandongUpgradeGame.js  # å±±ä¸œå‡çº§æ¸¸æˆé€»è¾‘
â”œâ”€â”€ package.json               # ä¾èµ–ç®¡ç†
â””â”€â”€ .env.example              # ç¯å¢ƒå˜é‡ç¤ºä¾‹
```

**å·²å®ç°åŠŸèƒ½**:
- âœ… ExpressæœåŠ¡å™¨ + Socket.ioå®æ—¶é€šä¿¡
- âœ… æˆ¿é—´åˆ›å»º/åŠ å…¥/ç®¡ç†ç³»ç»Ÿ
- âœ… ç©å®¶è¿æ¥ç®¡ç†å’ŒçŠ¶æ€è¿½è¸ª
- âœ… åŒå‰¯ç‰Œç³»ç»Ÿ (108å¼ ç‰Œ)
- âœ… å±±ä¸œå‡çº§ç‰¹æ®Šè§„åˆ™ (2,3,5å¸¸ä¸»)
- âœ… åŸºç¡€æ¸¸æˆçŠ¶æ€ç®¡ç†

**æ ¸å¿ƒAPIç«¯ç‚¹**:
- `GET /` - æœåŠ¡å™¨çŠ¶æ€æ£€æŸ¥
- `GET /health` - å¥åº·æ£€æŸ¥

**Socketäº‹ä»¶**:
- `createRoom` - åˆ›å»ºæˆ¿é—´
- `joinRoom` - åŠ å…¥æˆ¿é—´  
- `getRooms` - è·å–æˆ¿é—´åˆ—è¡¨
- `playCards` - å‡ºç‰Œ (å¾…å®ç°)
- `declareTrump` - äº®ä¸» (å¾…å®ç°)

### å‰ç«¯æ¶æ„ (React)
```
frontend/src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ GameLobby.js          # æ¸¸æˆå¤§å…ä¸»ç»„ä»¶
â”‚   â””â”€â”€ GameLobby.css         # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ services/
â”‚   â””â”€â”€ socketService.js      # Socket.ioå®¢æˆ·ç«¯æœåŠ¡
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ cardUtils.js          # æ‰‘å…‹ç‰Œå·¥å…·å‡½æ•°
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ cards/                # SVGæ‰‘å…‹ç‰Œèµ„æº
â”‚       â”œâ”€â”€ SPADES/           # é»‘æ¡ƒ (13å¼ )
â”‚       â”œâ”€â”€ HEARTS/           # çº¢æ¡ƒ (13å¼ )
â”‚       â”œâ”€â”€ DIAMONDS/         # æ–¹å— (13å¼ )
â”‚       â”œâ”€â”€ CLUBS/            # æ¢…èŠ± (13å¼ )
â”‚       â”œâ”€â”€ JOKER/            # å¤§å°ç‹ (2å¼ )
â”‚       â””â”€â”€ BACK.svg          # ç‰ŒèƒŒ
â”œâ”€â”€ App.js                    # ä¸»åº”ç”¨ç»„ä»¶
â””â”€â”€ App.css                   # å…¨å±€æ ·å¼
```

**å·²å®ç°åŠŸèƒ½**:
- âœ… å®æ—¶Socket.ioè¿æ¥ç®¡ç†
- âœ… æˆ¿é—´åˆ›å»º/åŠ å…¥ç•Œé¢
- âœ… ç©å®¶åˆ—è¡¨å’ŒçŠ¶æ€æ˜¾ç¤º  
- âœ… å“åº”å¼UIè®¾è®¡
- âœ… å®Œæ•´çš„æ‰‘å…‹ç‰ŒSVGèµ„æºé›†æˆ
- âœ… æ‰‘å…‹ç‰Œå·¥å…·å‡½æ•° (æ’åºã€åˆ¤æ–­ä¸»å‰¯ç‰Œç­‰)

## æŠ€æœ¯æ ˆ

### ä¾èµ–åŒ…
**åç«¯**:
- `express` ^5.1.0 - WebæœåŠ¡å™¨æ¡†æ¶
- `socket.io` ^4.8.1 - å®æ—¶é€šä¿¡
- `cors` ^2.8.5 - è·¨åŸŸå¤„ç†
- `dotenv` ^17.2.1 - ç¯å¢ƒå˜é‡
- `nodemon` ^3.1.10 - å¼€å‘çƒ­é‡è½½

**å‰ç«¯**:
- `react` ^19.1.1 - UIæ¡†æ¶
- `socket.io-client` - Socketå®¢æˆ·ç«¯
- `react-scripts` 5.0.1 - æ„å»ºå·¥å…·

### å¼€å‘ç¯å¢ƒ
- **åç«¯ç«¯å£**: 3001
- **å‰ç«¯ç«¯å£**: 3000  
- **é€šä¿¡åè®®**: WebSocket + HTTP polling fallback
- **æ•°æ®æ ¼å¼**: JSON

## æ•°æ®æ¨¡å‹

### Player (ç©å®¶)
```javascript
{
  socketId: String,      // Socketè¿æ¥ID
  name: String,          // ç©å®¶åç§°
  position: Number,      // åº§ä½ä½ç½® (0-3)
  cards: Array,          // æ‰‹ç‰Œ
  score: Number,         // å½“å‰å¾—åˆ†
  level: Number,         // å½“å‰çº§åˆ« (é»˜è®¤2)
  isDealer: Boolean,     // æ˜¯å¦ä¸ºåº„å®¶
  isConnected: Boolean   // è¿æ¥çŠ¶æ€
}
```

### Room (æˆ¿é—´)
```javascript
{
  id: String,            // 6ä½æˆ¿é—´ID
  name: String,          // æˆ¿é—´åç§°
  players: Array,        // ç©å®¶åˆ—è¡¨ (æœ€å¤š4äºº)
  maxPlayers: Number,    // æœ€å¤§ç©å®¶æ•° (4)
  gameStarted: Boolean,  // æ¸¸æˆæ˜¯å¦å¼€å§‹
  game: Object,          // æ¸¸æˆå®ä¾‹
  createdAt: Date        // åˆ›å»ºæ—¶é—´
}
```

### Card (æ‰‘å…‹ç‰Œ)
```javascript
{
  suit: String,          // èŠ±è‰²: spades/hearts/diamonds/clubs/joker
  rank: String/Number,   // ç‚¹æ•°: 2-10/J/Q/K/A/small/big
  deckNumber: Number,    // ç‰Œå‰¯ç¼–å· (0æˆ–1)
  id: String            // å”¯ä¸€æ ‡è¯†
}
```

## å±±ä¸œå‡çº§ç‰¹æ®Šè§„åˆ™

### å¸¸ä¸»ç³»ç»Ÿ
- **å¸¸ä¸»ç‰Œ**: 2, 3, 5 æ°¸è¿œæ˜¯ä¸»ç‰Œ
- **çº§ç‰Œ**: å½“å‰æ‰“çš„çº§åˆ« (å¦‚æ‰“10æ—¶ï¼Œæ‰€æœ‰10éƒ½æ˜¯çº§ç‰Œ)
- **ä¸»èŠ±è‰²**: äº®ä¸»ç¡®å®šçš„èŠ±è‰²

### ç‰Œå¼ å¤§å°é¡ºåº (ä»¥æ‰“10ä¸ºä¾‹)
**ä¸»ç‰Œ**: 4 < 6 < 7 < 8 < 9 < J < Q < K < A < å‰¯2 < ä¸»2 < å‰¯3 < ä¸»3 < å‰¯5 < ä¸»5 < å‰¯10 < ä¸»10 < å°ç‹ < å¤§ç‹

**å‰¯ç‰Œ**: 2 < 3 < 4 < 5 < 6 < 7 < 8 < 9 < J < Q < K < A (ä½†2,3,5å®é™…ä¸Šæ˜¯ä¸»ç‰Œ)

### ç‰¹æ®Šç‰Œå‹
- **é—ª/éœ‡**: å››å¼ ä¸åŒèŠ±è‰²çš„ä¸»ç‰Œ
- **é›¨(é¡ºå­)**: åŒèŠ±è‰²è¿ç»­5å¼ ä»¥ä¸Š
- **è¿å¯¹**: ç›¸é‚»çº§åˆ«çš„ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹å­

## ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

### Sprint 2 - æ¸¸æˆæ ¸å¿ƒé€»è¾‘
1. **å‘ç‰Œç•Œé¢**: å‰ç«¯æ˜¾ç¤ºç©å®¶æ‰‹ç‰Œ
2. **äº®ä¸»ç³»ç»Ÿ**: å®ç°"ä¸€ç‹å¸¦ä¸€å¯¹"äº®ä¸»æœºåˆ¶
3. **å‡ºç‰Œé€»è¾‘**: å®ç°å„ç§ç‰Œå‹çš„å‡ºç‰Œå’Œè·Ÿç‰Œ
4. **è®¡åˆ†ç³»ç»Ÿ**: å®ç°åˆ†ç‰Œç»Ÿè®¡å’ŒæŠ åº•è®¡ç®—
5. **å‡çº§åˆ¤å®š**: æ ¹æ®å¾—åˆ†ç¡®å®šå‡çº§æƒ…å†µ

### æŠ€æœ¯æ”¹è¿›
- æ·»åŠ å•å…ƒæµ‹è¯•è¦†ç›–
- å®Œå–„é”™è¯¯å¤„ç†å’Œé‡è¿æœºåˆ¶
- ä¼˜åŒ–å®æ—¶æ•°æ®ä¼ è¾“æ€§èƒ½
- æ·»åŠ æ¸¸æˆçŠ¶æ€æŒä¹…åŒ–

## éƒ¨ç½²è¯´æ˜

### å¼€å‘ç¯å¢ƒå¯åŠ¨
```bash
# åç«¯
cd backend && npm run dev

# å‰ç«¯  
cd frontend && npm start
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# åç«¯
cd backend && npm start

# å‰ç«¯
cd frontend && npm run build
```

## æµ‹è¯•çŠ¶æ€
- âœ… æˆ¿é—´åˆ›å»º/åŠ å…¥åŠŸèƒ½æµ‹è¯•
- âœ… å¤šäººå®æ—¶è¿æ¥æµ‹è¯•
- âœ… UIå“åº”å¼æµ‹è¯•
- ğŸ”„ æ¸¸æˆé€»è¾‘å•å…ƒæµ‹è¯• (å¾…æ·»åŠ )
- ğŸ”„ ç«¯åˆ°ç«¯æµ‹è¯• (å¾…æ·»åŠ )
